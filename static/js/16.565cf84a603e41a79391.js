webpackJsonp([16],{OJOj:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("Mitt"),i=a("Bfwr"),n=(e.a,i.a,{data:function(){return{topinfo:{title:"地罐交接-开始卸油"},qfswitch:!1,tzfy:!1,wy:!1,dgrl:!1,mblnr:"",showLoading:!1,tankAtg:{},gunList:[],tankNo:""}},created:function(){this.mblnr=this.$route.query.mblnr,this.tankNo=this.$route.query.tankNo,this.queryTankAtgTank(),this.queryGunListByTankNo()},methods:{queryTankAtgTank:function(){var t=this;this.showLoading=!0,this.$http.get("/store/json/delivery_sheet/queryTankAtgTank",{tankNo:this.$route.query.tankNo}).then(function(s){if("success"===s.result){t.tankAtg=s.data;var a=t.tankAtg.oilVol/(t.tankAtg.waterVol+t.tankAtg.oilVol+t.tankAtg.tempVol)*100;t.tankAtg.tankHeight=a+"%"}console.log(t.tankAtg),t.showLoading=!1}).catch(function(s){console.log(s),t.showLoading=!1})},queryGunListByTankNo:function(){var t=this;this.$http.get("/store/json/delivery_sheet/queryGunListByTankNo",{tankNo:this.$route.query.tankNo}).then(function(s){"success"===s.result&&(t.gunList=s.data),console.log(s)}).catch(function(t){console.log(t)})},startUnLoad:function(){var t=this;this.showLoading=!0;var s=this.$route.query.sheetID,a=this.tankAtg.tankNo;this.$http.get("/store/json/delivery_sheet/startTankUnload",{"refuelUnloadSheet.sheetID":s,"refuelUnloadSheet.tankNo":a,"refuelUnloadSheet.checkSealFull":this.qfswitch,"refuelUnloadSheet.checkGunStop":this.tzfy,"refuelUnloadSheet.checkStableBefore":this.wy,"refuelUnloadSheet.checkTankVol":this.dgrl}).then(function(s){"success"===s.result?t.$dialog.alert({mes:"开始卸油成功",callback:function(){t.$router.go(-1)}}):t.$dialog.alert({mes:s.info}),console.log(s),t.showLoading=!1}).catch(function(s){console.log(s),t.showLoading=!1})}},components:{vheader:e.a,loading:i.a}}),l={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"page"},[a("div",{staticClass:"startunoil receiveoil"},[a("vheader",{attrs:{title:t.topinfo.title,isUserInfo:!1,isShowHome:!0}}),t._v(" "),a("div",{staticClass:"bound-order-title"},[a("div",{staticClass:"order-no-txt"},[t._v("出库单号")]),t._v(" "),a("div",{staticClass:"order-no-value"},[t._v(t._s(t.mblnr))]),t._v(" "),a("div",{staticClass:"clear"})]),t._v(" "),a("div",{staticClass:"oiltank-data"},[a("div",{staticClass:"tank-btns"},[a("yd-button",{staticClass:"tank-btn",attrs:{type:"danger"}},[t._v(t._s(t.tankNo)+"#油罐")]),t._v(" "),a("div",{staticClass:"clear"})],1),t._v(" "),a("div",{staticClass:"tank-content"},[a("div",{staticClass:"tank-content-left"},[a("span",{staticClass:"tank-oil-height",style:{height:t.tankAtg.tankHeight}})]),t._v(" "),a("div",{staticClass:"tank-content-right"},[a("ul",[a("li",[a("p",{staticClass:"content-txt"},[t._v("标准体积(L)")]),t._v(" "),a("p",{staticClass:"content-value"},[t._v(t._s(t.tankAtg.oilNormalVol))]),t._v(" "),a("div",{staticClass:"clear"})]),t._v(" "),a("li",[a("p",{staticClass:"content-txt"},[t._v("净油体积(L)")]),t._v(" "),a("p",{staticClass:"content-value"},[t._v(t._s(t.tankAtg.oilVol))]),t._v(" "),a("div",{staticClass:"clear"})]),t._v(" "),a("li",[a("p",{staticClass:"content-txt"},[t._v("空体积(L)")]),t._v(" "),a("p",{staticClass:"content-value"},[t._v(t._s(t.tankAtg.tempVol))]),t._v(" "),a("div",{staticClass:"clear"})]),t._v(" "),a("li",[a("p",{staticClass:"content-txt"},[t._v("平均温度(℃)")]),t._v(" "),a("p",{staticClass:"content-value"},[t._v(t._s(t.tankAtg.temperature))]),t._v(" "),a("div",{staticClass:"clear"})]),t._v(" "),a("li",[a("p",{staticClass:"content-txt"},[t._v("水高(mm)")]),t._v(" "),a("p",{staticClass:"content-value"},[t._v(t._s(t.tankAtg.waterHeight))]),t._v(" "),a("div",{staticClass:"clear"})]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"clear"})])])]),t._v(" "),a("div",{staticClass:"clear"})]),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"gunnos"},t._l(t.gunList,function(s){return a("span",[t._v(t._s(s.gunNo)+"#")])}),0),t._v(" "),a("div",{staticClass:"unstart-confirm"},[a("ul",[a("li",[a("div",{staticClass:"unstart-left"},[a("p",{staticClass:"start-txt"},[t._v("油枪停止付油")]),t._v(" "),a("yd-switch",{staticClass:"start-value",model:{value:t.tzfy,callback:function(s){t.tzfy=s},expression:"tzfy"}})],1),t._v(" "),a("div",{staticClass:"unstart-right"},[a("p",{staticClass:"start-txt"},[t._v("铅封正常")]),t._v(" "),a("yd-switch",{staticClass:"start-value",model:{value:t.qfswitch,callback:function(s){t.qfswitch=s},expression:"qfswitch"}})],1),t._v(" "),a("div",{staticClass:"clear"})]),t._v(" "),a("li",[a("div",{staticClass:"unstart-left"},[a("p",{staticClass:"start-txt"},[t._v("地罐容量正常")]),t._v(" "),a("yd-switch",{staticClass:"start-value",model:{value:t.dgrl,callback:function(s){t.dgrl=s},expression:"dgrl"}})],1),t._v(" "),a("div",{staticClass:"unstart-right"},[a("p",{staticClass:"start-txt"},[t._v("卸前已稳油")]),t._v(" "),a("yd-switch",{staticClass:"start-value",model:{value:t.wy,callback:function(s){t.wy=s},expression:"wy"}})],1),t._v(" "),a("div",{staticClass:"clear"})]),t._v(" "),a("div",{staticClass:"clear"})])])],1),t._v(" "),a("loading",{attrs:{show:t.showLoading,text:""}}),t._v(" "),a("footer",{staticClass:"btn-fixed-bottom"},[a("yd-button",{staticClass:"save-submit",attrs:{size:"large",type:"danger"},nativeOn:{click:function(s){return t.startUnLoad(s)}}},[t._v("启动卸油")])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("p",{staticClass:"content-txt valuered"},[this._v("已卸升数(L)")]),this._v(" "),s("p",{staticClass:"content-value valuered"},[this._v("0.00")]),this._v(" "),s("div",{staticClass:"clear"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"oil-confirm-label"},[s("span",[this._v("关联油枪")])])}]};var o=a("VU/8")(n,l,!1,function(t){a("tGhg")},null,null);s.default=o.exports},tGhg:function(t,s){}});